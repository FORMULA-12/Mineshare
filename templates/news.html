{% extends 'base.html'  %}
{% load static %}
{% block main %}


    <div class="page container">

        {% for article in news %}
        <div class="row article">
            <div class="article-gradient"></div>

            <div class="col l12 s12">
                {% if article.id == news.first.id %}
                <p class="article-title">{{ article.title }} [{{ article.date|date:"d.m.Y" }}]<i class="material-icons hide-on-med-and-down" style="color:#FFA500">whatshot</i></p>
                {% else %}
                <p class="article-title">{{ article.title }} [{{ article.date|date:"d.m.Y" }}]<i class="material-icons hide-on-med-and-down">library_books</i></p>
                {% endif %}
            </div>

            <div class="col l12 s12">
                <textarea id="article{{ article.id }}" class="article-description">{{ article.description }}</textarea>
            </div>
        </div>
        {% if article.id != news.last.id %}
        <div style="width: 100%;height:2px; background:#dddddd;border-radius:8px;margin-top:40px;margin-bottom:40px;"></div>
        {% endif %}
        {% endfor %}

    </div>

    <script type="text/javascript">
        window.onload = function() {
            var elements = document.getElementsByClassName('article-description');
            for (var i = 0; i < elements.length; i++) {
                elem = document.getElementById(elements[i].id);
                elem.style.height = '1px';
                elem.style.height = (2 + elem.scrollHeight) + 'px';
            }
        }
    </script>

{% endblock main %}
